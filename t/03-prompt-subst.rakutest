use v6.d;
use Test;

use lib '.';
use lib './lib';

use LLM::Prompts;


## 1
is
        llm-prompt-expand('This is a simple prompt'),
        'This is a simple prompt';

## 2
is
        llm-prompt-expand('@Yoda'),
        llm-prompt('Yoda');


## 3
is
        llm-prompt-expand('!Translated|German'),
        llm-prompt('Translated')('German');

## 4
is
        llm-prompt-expand('@Yoda The summer is gone.'),
        llm-prompt('Yoda') ~ ' The summer is gone.';

## 5
my $spec3 = 'The summer is gone, school is comming soon.';
is
        llm-prompt-expand("$spec3 #HaikuStyled"),
        $spec3 ~ ' ' ~ llm-prompt('HaikuStyled');

## 6
is
        llm-prompt-expand("$spec3 #HaikuStyled #Translated"),
        $spec3 ~ ' ' ~ llm-prompt('HaikuStyled') ~ ' ' ~ llm-prompt('Translated').();

## 7
is
        llm-prompt-expand("$spec3 #HaikuStyled #Translated|German"),
        $spec3 ~ ' ' ~ llm-prompt('HaikuStyled') ~ ' ' ~ llm-prompt('Translated')('German');

## 8
is
        llm-prompt-expand("!Translated|Russian $spec3"),
        llm-prompt('Translated')('Russian') ~ ' ' ~ $spec3;


## 9
is
        llm-prompt-expand("!Translated|'High German' $spec3"),
        llm-prompt('Translated')('High German') ~ ' ' ~ $spec3;


## 10
my $spec8 = 'The cat chased the mouse.';
is
        llm-prompt-expand("!FormalRephrase $spec8"),
        llm-prompt('FormalRephrase')($spec8);

## 11
is
        llm-prompt-expand("!FormalRephrase>$spec8"),
        llm-prompt('FormalRephrase')($spec8);

done-testing;
